<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222"/>


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"/>

<link rel="stylesheet" href="/css/main.css?v=7.0.0"/>


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.0.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Do it ,if you have some time.">
<meta property="og:type" content="website">
<meta property="og:title" content="Sevn">
<meta property="og:url" content="https://sevnqiao.github.io/index.html">
<meta property="og:site_name" content="Sevn">
<meta property="og:description" content="Do it ,if you have some time.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sevn">
<meta name="twitter:description" content="Do it ,if you have some time.">






  <link rel="canonical" href="https://sevnqiao.github.io/"/>



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Sevn</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Sevn</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">St you want to do.</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>Startseite</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>Archiv</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sevnqiao.github.io/2018/08/07/使用UIViewPropertyAnimator 来控制毛玻璃.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiong."/>
      <meta itemprop="description" content="Do it ,if you have some time."/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sevn"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/07/使用UIViewPropertyAnimator 来控制毛玻璃.html" class="post-title-link" itemprop="url">使用UIViewPropertyAnimator 来控制毛玻璃</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Post created: 2018-08-07 16:42:36" itemprop="dateCreated datePublished" datetime="2018-08-07T16:42:36+08:00">2018-08-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Updated at: 2019-02-12 14:39:11" itemprop="dateModified" datetime="2019-02-12T14:39:11+08:00">2019-02-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>iOS 开发中一般有系统的UIVisualEffectView处理模糊效果，但是其模糊程度不好控制，很难到达想要的效果。不过我们可以采用 UIViewPropertyAnimator 实现该要求。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line"></div><div class="line">    <span class="keyword">self</span>.imageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds];</div><div class="line">    <span class="keyword">self</span>.imageView.image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"test.jpg"</span>];</div><div class="line">    <span class="keyword">self</span>.imageView.contentMode = <span class="built_in">UIViewContentModeScaleAspectFill</span>;</div><div class="line">    [<span class="keyword">self</span>.view addSubview:<span class="keyword">self</span>.imageView];</div><div class="line">    </div><div class="line">    <span class="keyword">self</span>.effectView = [[<span class="built_in">UIVisualEffectView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds];</div><div class="line">    <span class="keyword">self</span>.effectView.effect = [<span class="built_in">UIBlurEffect</span> effectWithStyle:<span class="built_in">UIBlurEffectStyleLight</span>];</div><div class="line">    [<span class="keyword">self</span>.view addSubview:<span class="keyword">self</span>.effectView];</div><div class="line">    </div><div class="line">    <span class="keyword">self</span>.animator = [[<span class="built_in">UIViewPropertyAnimator</span> alloc] initWithDuration:<span class="number">0.1</span> curve:<span class="built_in">UIViewAnimationCurveLinear</span> animations:^&#123;</div><div class="line">        <span class="keyword">self</span>.effectView.effect = <span class="literal">nil</span>;</div><div class="line">    &#125;];</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="built_in">UISlider</span> *slider = [[<span class="built_in">UISlider</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">300</span>, <span class="number">300</span>, <span class="number">30</span>)];</div><div class="line">    [slider addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(sliderValueDidChange:) forControlEvents:<span class="built_in">UIControlEventValueChanged</span>];</div><div class="line">    [<span class="keyword">self</span>.view addSubview:slider];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)sliderValueDidChange:(<span class="built_in">UISlider</span> *)slider</div><div class="line">&#123;</div><div class="line">    <span class="keyword">self</span>.animator.fractionComplete = slider.value;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>效果如下图所示：<br><img src="https://upload-images.jianshu.io/upload_images/1783540-381624f7ee8622f9.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/228" alt="毛玻璃渐变效果控制.gif"></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sevnqiao.github.io/2017/11/29/wap-唤起App-的两种方式Schema-Universal-Link.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiong."/>
      <meta itemprop="description" content="Do it ,if you have some time."/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sevn"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/11/29/wap-唤起App-的两种方式Schema-Universal-Link.html" class="post-title-link" itemprop="url">wap 唤起App 的两种方式Schema & Universal Link</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Post created: 2017-11-29 14:48:18" itemprop="dateCreated datePublished" datetime="2017-11-29T14:48:18+08:00">2017-11-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Updated at: 2019-02-12 15:07:03" itemprop="dateModified" datetime="2019-02-12T15:07:03+08:00">2019-02-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/Universal-Link/" itemprop="url" rel="index"><span itemprop="name">Universal Link</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="传统方式-schema"><a href="#传统方式-schema" class="headerlink" title="传统方式 schema"></a>传统方式 schema</h2><p>　　现在线上大多数 App 使用的就是 schema 跳转，都对应一套路由法则，基本都能做到跳转到 App 内任一界面。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">location.href?=?&apos;schema://xxxx&apos;</div></pre></td></tr></table></figure>
<p>但 schema 有个弊端：iOS中，如果用户没有安装App，那么他一定会经历2个事情：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">1、schema打开app，但是失败，延迟后，跳转下载App</div><div class="line">2、跳转下载App之前schema会弹个可恶的跳转失败的框，然后再延迟后弹跳转AppStore的框</div></pre></td></tr></table></figure>
<p>再就是 schema 被微信等应用禁止跳转了。</p>
<h2 id="iOS9-新方式-Universal-Link"><a href="#iOS9-新方式-Universal-Link" class="headerlink" title="iOS9 新方式 Universal Link"></a>iOS9 新方式 Universal Link</h2><p>Universal Link和 schema 一样，目前还未被微信等禁止，也不会弹出跳转失败的弹出框。</p>
<p>####Universal Link实现过程</p>
<p>######1、一个支持 SSL 访问的域名，且不能是自建证书的 https 域名</p>
<p>######2、新建一个apple-app-site-association文件，上传到域名根目录下，或 .well-known 文件夹下，<br>apple-app-site-association文件内容是一个 json </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"applinks"</span>:</div><div class="line">    &#123;</div><div class="line">        <span class="string">"apps"</span>:[],</div><div class="line">        <span class="string">"details"</span>:[</div><div class="line">           &#123;</div><div class="line">               <span class="string">"appID"</span>:<span class="string">"ABCDEFG.com.aaa.bbb.ccc"</span>,</div><div class="line">               <span class="string">"paths"</span>:[<span class="string">"NOT /aaaa/*"</span>,<span class="string">"/iosuniversallink/*"</span>]</div><div class="line">           &#125;,</div><div class="line">           &#123;</div><div class="line">               <span class="string">"appID"</span>:<span class="string">"GFEDCBA.com.aaa.bbb.ccc"</span>,</div><div class="line">               <span class="string">"paths"</span>:[<span class="string">"NOT /aaaa/*"</span>,<span class="string">"/iosuniversallink/*"</span>]</div><div class="line">           &#125;</div><div class="line">       ]</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>appId 为 teamId + boundleId<br>paths 为域名下可识别或不可识别的 path 路径， 如 <a href="https://www.xxx.com/iosuniversallink/*" target="_blank" rel="external">https://www.xxx.com/iosuniversallink/*</a>,  就可以唤起 app， 而 <a href="https://www.xxx.com/aaaa/xxxxx则直接跳转到" target="_blank" rel="external">https://www.xxx.com/aaaa/xxxxx则直接跳转到</a> web 页了。</p>
<p><code>注意：该文件没有后缀名
附：链家 json 文件：https://linkm.lianjia.com/apple-app-site-association
    知乎 json 文件：https://oia.zhihu.com/apple-app-site-association</code></p>
<p>######3、配置iOS App工程<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">1. 开发者中心证书打开Associated Domains</div><div class="line">2. 工程配置Associated Domains</div><div class="line">3. 将你apple-app-site-association所在域名配置进去</div><div class="line">4. 给你的工程像Schema的OpenUrl一样，编写App被唤醒后的处理逻辑</div></pre></td></tr></table></figure></p>
<p>######4、Universal Link的基本运作流程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">1. APP第一次启动 or APP更新版本后第一次启动</div><div class="line">2. APP向工程里配置的域名发起Get请求拉取apple-app-association Json File</div><div class="line">3. APP将apple-app-association注册给系统</div><div class="line">4. 由任意webview发起跳转的url，如果命中了apple-app-association注册过的通用链接</div><div class="line">5. 打开App，触发Universal Link delegate</div><div class="line">6. 没命中，webview继续跳转url</div><div class="line">7. 在你进行apple-app-association 以及 App工程的配置之后，整个Universal Link的运作流程完全由系统控制了</div></pre></td></tr></table></figure>
<p>####Universal Link 跨域<br>　　Universal Link有跨域问题，Universal Link必须要求跨域，如果不跨域，就不行，就失效，就不工作。（iOS 9.2之后的改动）</p>
<p>　　假如当前网页的域名是 A，当前网页发起跳转的域名是 B，必须要求 B 和 A 是不同域名，才会触发Universal Link，如果B 和 A 是相同域名，只会继续在当前WebView里面进行跳转，哪怕你的Universal Link一切正常，根本不会打开App</p>
<p>####产品需求<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">1、如果已安装App，跳转对应界面</div><div class="line">打开App 触发handleUniversalLink</div><div class="line">走到/_iosuniversallink/分支，拼接出任意App内的界面路由</div><div class="line">跳转界面</div><div class="line"></div><div class="line">2、如果没安装App，跳转App下载界面</div><div class="line">WebView原地跳转https://xxx.xxx.xxx/_iosuniversallink/*</div><div class="line">命中服务器的重定向逻辑</div><div class="line">重定向到AppStore跳转页面</div><div class="line">打开AppStore下载</div></pre></td></tr></table></figure></p>
<h2 id="解决了旧Schema模式下的弊端问题："><a href="#解决了旧Schema模式下的弊端问题：" class="headerlink" title="解决了旧Schema模式下的弊端问题："></a><p style="color:green">解决了旧Schema模式下的弊端问题：</p></h2><p>　　Schema无法判断是否安装App，只能采用setTimeout的Trick方式，Schema的Trick方式会有一个丑陋的错误跳转弹框。Schema无法在微信/手百等App内，打开我们自己的App<br>　　简单的说，这样设计的初衷就是，我不为了通用链接这一目的来使用Universal Link，来统一WAP&amp;APP的URL跳转，我就为了把Universal Link当做加强版Schema来使用</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sevnqiao.github.io/2017/08/25/ChartView折线图-饼状图.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiong."/>
      <meta itemprop="description" content="Do it ,if you have some time."/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sevn"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/08/25/ChartView折线图-饼状图.html" class="post-title-link" itemprop="url">ChartView折线图+饼状图</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Post created: 2017-08-25 15:36:29" itemprop="dateCreated datePublished" datetime="2017-08-25T15:36:29+08:00">2017-08-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Updated at: 2019-02-12 14:35:58" itemprop="dateModified" datetime="2019-02-12T14:35:58+08:00">2019-02-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/CALyer/" itemprop="url" rel="index"><span itemprop="name">CALyer</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近项目上线了,有点时间便想着重构一下项目中之前使用的折线图. 先预览下效果图.<br><img src="http://upload-images.jianshu.io/upload_images/1783540-9b9b11bfb6177ff2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="PieChartView+LineChartVIew.png"></p>
<p>理顺思路, 用 CAShapeLayer + UIBeziapath画线 , 用 CATextLayer 显示文本.</p>
<h4 id="一-饼状图"><a href="#一-饼状图" class="headerlink" title="一. 饼状图"></a><em>一. 饼状图</em></h4><h6 id="1-画扇形"><a href="#1-画扇形" class="headerlink" title="1. 画扇形"></a>1. 画扇形</h6><blockquote>
<p>a.移动画笔到圆心<br>b.画扇形的直边<br>c.画弧边<br>d.画另一条直边</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)drawChildPieWithPercent:(<span class="built_in">CGFloat</span>)percent arcPoint:(<span class="built_in">CGPoint</span>)arcPoint radiu:(<span class="built_in">CGFloat</span>)radiu startAngle:(<span class="built_in">CGFloat</span>)startAngle endAngle:(<span class="built_in">CGFloat</span>)endAngle color:(<span class="built_in">UIColor</span> *)color isSelect:(<span class="built_in">BOOL</span>)isSelect</div><div class="line">&#123;</div><div class="line">    <span class="built_in">CGPoint</span> startPoint = <span class="built_in">CGPointMake</span>(arcPoint.x + radiu * cos(startAngle), arcPoint.y + radiu * sin(startAngle));</div><div class="line">    </div><div class="line">    <span class="built_in">UIBezierPath</span> *bezierPath = [<span class="built_in">UIBezierPath</span> bezierPath];</div><div class="line">    [bezierPath moveToPoint:arcPoint];</div><div class="line">    [bezierPath addLineToPoint:startPoint];</div><div class="line">    [bezierPath addArcWithCenter:arcPoint radius:radiu startAngle:startAngle endAngle:endAngle clockwise:<span class="literal">YES</span>];</div><div class="line">    [bezierPath addLineToPoint:arcPoint];</div><div class="line">    </div><div class="line">    <span class="built_in">CGFloat</span> padding = isSelect ? <span class="number">10</span> : <span class="number">0</span>;</div><div class="line">    <span class="built_in">CGPoint</span> point = <span class="built_in">CGPointMake</span>(padding * cos(startAngle + (endAngle-startAngle)/<span class="number">2</span>) ,</div><div class="line">                                   padding * sin(startAngle + (endAngle-startAngle)/<span class="number">2</span>));</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="built_in">CAShapeLayer</span> *layer = [<span class="built_in">CAShapeLayer</span> layer];</div><div class="line">    layer.backgroundColor = [<span class="built_in">UIColor</span> clearColor].CGColor;</div><div class="line"></div><div class="line">    layer.frame = <span class="built_in">CGRectMake</span>(point.x, point.y, kWidth, kHeight);</div><div class="line">    layer.path = bezierPath.CGPath;</div><div class="line">    layer.fillColor = color.CGColor;</div><div class="line">    layer.strokeColor = color.CGColor;</div><div class="line">    </div><div class="line">    [<span class="keyword">self</span>.layer addSublayer:layer];</div><div class="line"></div><div class="line">    [_pathArray addObject:bezierPath];</div><div class="line">    [_layerArray addObject:layer];</div><div class="line">    </div><div class="line">    [<span class="keyword">self</span> drawTextWithContent:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"占比%.1f"</span>, percent] percent:percent arcPoint:arcPoint radiu:radiu startAngle:startAngle endAngle:endAngle color:color];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="2-画扇形对应的描述文本"><a href="#2-画扇形对应的描述文本" class="headerlink" title="2. 画扇形对应的描述文本"></a>2. 画扇形对应的描述文本</h6><blockquote>
<p>a.找到圆弧的中心点<br>b.找到圆弧中心延长点<br>c.找到放置文本的点<br>d.连线上面三个点<br>e.绘制文本</p>
</blockquote>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)drawTextWithContent:(<span class="built_in">NSString</span> *)content percent:(<span class="built_in">CGFloat</span>)percent arcPoint:(<span class="built_in">CGPoint</span>)arcPoint radiu:(<span class="built_in">CGFloat</span>)radiu startAngle:(<span class="built_in">CGFloat</span>)startAngle endAngle:(<span class="built_in">CGFloat</span>)endAngle color:(<span class="built_in">UIColor</span> *)color</div><div class="line">&#123;</div><div class="line">    <span class="comment">// 圆弧中心点</span></div><div class="line">    <span class="built_in">CGPoint</span> point1 = <span class="built_in">CGPointMake</span>(arcPoint.x + radiu * cos(startAngle + percent * M_PI), arcPoint.y + radiu * sin(startAngle + percent * M_PI));</div><div class="line">    <span class="comment">// 圆弧中心延长点</span></div><div class="line">    <span class="built_in">CGPoint</span> point2 = <span class="built_in">CGPointMake</span>(arcPoint.x + (radiu + <span class="number">20</span>) * cos(startAngle + percent  * M_PI), arcPoint.y + (radiu + <span class="number">20</span>) * sin(startAngle + percent * M_PI));</div><div class="line">    </div><div class="line">    <span class="built_in">UIBezierPath</span> *bezierPath = [<span class="built_in">UIBezierPath</span> bezierPath];</div><div class="line">    [bezierPath moveToPoint:point1];</div><div class="line">    [bezierPath addLineToPoint:point2];</div><div class="line">    <span class="comment">// 找到放置文本的点</span></div><div class="line">    <span class="built_in">CGPoint</span> point3 = <span class="built_in">CGPointZero</span>;</div><div class="line">    point3.y = point2.y;</div><div class="line">    <span class="keyword">if</span> (point2.x &gt; arcPoint.x)</div><div class="line">    &#123;</div><div class="line">        point3.x = point2.x + <span class="number">60</span>;</div><div class="line">    &#125;<span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        point3.x = point2.x - <span class="number">60</span>;</div><div class="line">    &#125;</div><div class="line">    [bezierPath addLineToPoint:point3];</div><div class="line"></div><div class="line">    <span class="built_in">CAShapeLayer</span> *lineLayer = [<span class="built_in">CAShapeLayer</span> layer];</div><div class="line">    lineLayer.backgroundColor = [<span class="built_in">UIColor</span> clearColor].CGColor;</div><div class="line">    lineLayer.path = bezierPath.CGPath;</div><div class="line">    lineLayer.fillColor = [<span class="built_in">UIColor</span> clearColor].CGColor;</div><div class="line">    lineLayer.strokeColor = color.CGColor;</div><div class="line">    [<span class="keyword">self</span>.layer addSublayer:lineLayer];</div><div class="line">    </div><div class="line">    <span class="comment">// 文本</span></div><div class="line">    <span class="built_in">CATextLayer</span> *textLayer = [<span class="built_in">CATextLayer</span> layer];</div><div class="line">    <span class="keyword">if</span> (point2.x &gt; arcPoint.x)</div><div class="line">    &#123;</div><div class="line">        textLayer.frame = <span class="built_in">CGRectMake</span>(point2.x, point3.y<span class="number">-15</span>, fabs(point3.x-point2.x), <span class="number">15</span>);</div><div class="line">    &#125;<span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        textLayer.frame = <span class="built_in">CGRectMake</span>(point3.x, point3.y<span class="number">-15</span>, fabs(point3.x-point2.x), <span class="number">15</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    textLayer.foregroundColor = color.CGColor;</div><div class="line">    textLayer.fontSize = <span class="number">12</span>;</div><div class="line">    textLayer.alignmentMode = kCAAlignmentCenter;</div><div class="line">    textLayer.string = content;</div><div class="line">    [<span class="keyword">self</span>.layer addSublayer:textLayer];</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="3-绘制剩余的扇形"><a href="#3-绘制剩余的扇形" class="headerlink" title="3.绘制剩余的扇形"></a>3.绘制剩余的扇形</h6><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)drawPieViewWithDataArray:(<span class="built_in">NSArray</span> *)dataArray</div><div class="line">&#123;</div><div class="line">    <span class="built_in">CGFloat</span> startAngle = -M_PI_2;</div><div class="line">    <span class="built_in">CGFloat</span> endAngle = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; dataArray.count; i++)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">CGFloat</span> percent = [[dataArray objectAtIndex:i] floatValue];</div><div class="line">        </div><div class="line">        endAngle = startAngle + percent * M_PI * <span class="number">2</span>;</div><div class="line">        </div><div class="line">        <span class="built_in">CGPoint</span> arcPoint = <span class="built_in">CGPointMake</span>(<span class="keyword">self</span>.defaultArcPoint.x, <span class="keyword">self</span>.defaultArcPoint.y);</div><div class="line">        </div><div class="line">        [<span class="keyword">self</span> drawChildPieWithPercent:percent</div><div class="line">                             arcPoint:arcPoint</div><div class="line">                                radiu:<span class="keyword">self</span>.radiu</div><div class="line">                           startAngle:startAngle</div><div class="line">                             endAngle:endAngle</div><div class="line">                                color:<span class="keyword">self</span>.colorArray[i]</div><div class="line">                             isSelect:i == <span class="keyword">self</span>.selectIndex];</div><div class="line">        </div><div class="line">        startAngle = endAngle;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这样基本就画出了相要的效果, 下面再加一些额外的功能:</p>
<blockquote>
<ol>
<li>动画展现饼图</li>
<li>点击某一块扇形加上动态效果</li>
</ol>
</blockquote>
<h6 id="4-动画展现饼图"><a href="#4-动画展现饼图" class="headerlink" title="4.动画展现饼图"></a>4.动画展现饼图</h6><p>这里可以考虑用一个和背景色一样的 layer 挡在上面, 然后使用透明色来绘制一个圆.</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)drawCoverLayer</div><div class="line">&#123;</div><div class="line">    <span class="built_in">CAShapeLayer</span> *backLayer = [<span class="built_in">CAShapeLayer</span> layer];</div><div class="line">    backLayer.fillColor = [<span class="built_in">UIColor</span> clearColor].CGColor;</div><div class="line">    backLayer.strokeColor = <span class="keyword">self</span>.backgroundColor.CGColor;</div><div class="line">    backLayer.lineWidth = <span class="keyword">self</span>.radiu + <span class="number">10</span>;</div><div class="line">    </div><div class="line">    <span class="built_in">UIBezierPath</span> *backLayerPath = [<span class="built_in">UIBezierPath</span> bezierPathWithArcCenter:<span class="keyword">self</span>.defaultArcPoint</div><div class="line">                                                                 radius:backLayer.lineWidth/<span class="number">2</span></div><div class="line">                                                             startAngle:-M_PI_2</div><div class="line">                                                               endAngle:<span class="number">3</span> * M_PI_2</div><div class="line">                                                              clockwise:<span class="literal">YES</span>];</div><div class="line">    backLayer.path = backLayerPath.CGPath;</div><div class="line">    </div><div class="line">    <span class="built_in">CABasicAnimation</span> *animation = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="string">@"strokeStart"</span>];</div><div class="line">    animation.duration = <span class="number">2</span>;</div><div class="line">    animation.repeatCount = <span class="number">1</span>;</div><div class="line">    animation.fromValue = @(<span class="number">0</span>);</div><div class="line">    animation.toValue = @(<span class="number">1</span>);</div><div class="line">    animation.removedOnCompletion = <span class="literal">NO</span>;</div><div class="line">    animation.fillMode = kCAFillModeForwards;</div><div class="line">    [backLayer addAnimation:animation forKey:<span class="literal">nil</span>];</div><div class="line">    </div><div class="line">    [<span class="keyword">self</span>.layer addSublayer:backLayer];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h6 id="5-点击某一块扇形加上动态效果"><a href="#5-点击某一块扇形加上动态效果" class="headerlink" title="5.点击某一块扇形加上动态效果"></a>5.点击某一块扇形加上动态效果</h6><p>在 view 的 touchBegin 方法中去实现即可,具体如下:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)touchesBegan:(<span class="built_in">NSSet</span>&lt;<span class="built_in">UITouch</span> *&gt; *)touches withEvent:(<span class="built_in">UIEvent</span> *)event</div><div class="line">&#123;</div><div class="line">    <span class="built_in">UITouch</span> *touch = [touches anyObject];</div><div class="line">    <span class="built_in">CGPoint</span> touchPoint = [touch locationInView:<span class="keyword">self</span>];</div><div class="line">    </div><div class="line">    <span class="built_in">CGFloat</span> totalPercent = <span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;_pathArray.count; i++)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">UIBezierPath</span> *path = _pathArray[i];</div><div class="line">        <span class="built_in">CAShapeLayer</span> *layer = <span class="keyword">self</span>.layerArray[i];</div><div class="line">        </div><div class="line">        <span class="built_in">CGFloat</span> percent = [<span class="keyword">self</span>.dataArray[i] floatValue];</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> ([path containsPoint:touchPoint])</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">self</span>.selectIndex = i;</div><div class="line">            </div><div class="line">            <span class="built_in">CGFloat</span> padding = <span class="number">10</span>;</div><div class="line">            </div><div class="line">            <span class="built_in">CGFloat</span> startAngle = totalPercent * M_PI * <span class="number">2</span> - M_PI_2;</div><div class="line">            <span class="built_in">CGFloat</span> endAngle = startAngle + M_PI * <span class="number">2</span> * percent;</div><div class="line">            </div><div class="line">            layer.frame = <span class="built_in">CGRectMake</span>(padding * cos(startAngle + (endAngle-startAngle)/<span class="number">2</span>),</div><div class="line">                                     padding * sin(startAngle + (endAngle-startAngle)/<span class="number">2</span>),</div><div class="line">                                     kWidth,</div><div class="line">                                     kHeight);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            layer.frame = <span class="keyword">self</span>.bounds;</div><div class="line">        &#125;</div><div class="line">        totalPercent += percent;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>更多的功能还在扩展中, 具体请关<a href="https://github.com/sevnqiao/ChartViewDemo" target="_blank" rel="external">注项目地址</a></strong></p>
<h4 id="二-折线图"><a href="#二-折线图" class="headerlink" title="二.折线图"></a>二.折线图</h4><p>这个没什么好写的, 算好相应的坐标, 再画线即可.</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 初始化 scrollview</span></div><div class="line">[<span class="keyword">self</span> initScrollView];</div><div class="line"><span class="comment">// 画横线</span></div><div class="line">[<span class="keyword">self</span> drawHorizontalLine];</div><div class="line"><span class="comment">// 画竖线</span></div><div class="line">[<span class="keyword">self</span> drawVerticalLine];</div><div class="line"><span class="comment">// 画底部标签</span></div><div class="line">[<span class="keyword">self</span> drawBottomTitle];</div><div class="line">        <span class="comment">// 画左侧刻度</span></div><div class="line">[<span class="keyword">self</span> drawYTextLayer];</div><div class="line">        <span class="comment">// 画线</span></div><div class="line">[<span class="keyword">self</span> drawValueLine];</div></pre></td></tr></table></figure>
<p>画线的时候可以加上动画效果</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)drawValueLine</div><div class="line">&#123;</div><div class="line">    <span class="built_in">CGFloat</span> originHeight = <span class="keyword">self</span>.scrollView.frame.size.height / <span class="number">5</span>;</div><div class="line">    </div><div class="line">    <span class="built_in">UIBezierPath</span> *bezierPath = [<span class="built_in">UIBezierPath</span> bezierPath];</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">self</span>.titleArray.count; i++)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">CGFloat</span> value = [<span class="keyword">self</span>.dataSourceArray[i] floatValue];</div><div class="line">        <span class="built_in">CGFloat</span> scale = (value - _minValue) / (_maxValue - _minValue);</div><div class="line">        <span class="built_in">CGFloat</span> y = (<span class="number">1</span>-scale) * originHeight * <span class="number">4</span> + <span class="keyword">self</span>.originWidth * <span class="number">0.5</span>;</div><div class="line">        </div><div class="line">        <span class="built_in">CGPoint</span> point = <span class="built_in">CGPointMake</span>(<span class="keyword">self</span>.originWidth + <span class="keyword">self</span>.originWidth * i, y);</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            [bezierPath moveToPoint:point];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            [bezierPath addLineToPoint:point];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="built_in">CAShapeLayer</span> *shapeLayer = [<span class="built_in">CAShapeLayer</span> layer];</div><div class="line">    shapeLayer.path = bezierPath.CGPath;</div><div class="line">    shapeLayer.strokeColor = [[[<span class="built_in">UIColor</span> redColor] colorWithAlphaComponent:<span class="number">1</span>] <span class="built_in">CGColor</span>];</div><div class="line">    shapeLayer.fillColor = [[<span class="built_in">UIColor</span> clearColor] <span class="built_in">CGColor</span>];</div><div class="line">    shapeLayer.lineWidth = <span class="number">1</span>;</div><div class="line">    [<span class="keyword">self</span>.scrollView.layer addSublayer:shapeLayer];</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="built_in">CABasicAnimation</span> *animation = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="string">@"strokeEnd"</span>];</div><div class="line">    animation.duration = <span class="number">2</span>;</div><div class="line">    animation.repeatCount = <span class="number">1</span>;</div><div class="line">    animation.fromValue = @(<span class="number">0</span>);</div><div class="line">    animation.toValue = @(<span class="number">1</span>);</div><div class="line">    animation.removedOnCompletion = <span class="literal">NO</span>;</div><div class="line">    animation.fillMode = kCAFillModeForwards;</div><div class="line">    [shapeLayer addAnimation:animation forKey:<span class="literal">nil</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>基本上就这些内容了, 我们在平时的时候可以多使用 layer 来进行绘制图形, 这样可以加快渲染速度, 提升体验. </p>
<p>具体的代码请见<strong> <a href="https://github.com/sevnqiao/ChartViewDemo" target="_blank" rel="external">注项目地址</a></strong><br>欢迎 star!</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sevnqiao.github.io/2017/08/21/iOS9之前collectionView拖拽的实现.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiong."/>
      <meta itemprop="description" content="Do it ,if you have some time."/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sevn"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/08/21/iOS9之前collectionView拖拽的实现.html" class="post-title-link" itemprop="url">iOS9之前collectionView拖拽重排的实现</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Post created: 2017-08-21 17:11:12" itemprop="dateCreated datePublished" datetime="2017-08-21T17:11:12+08:00">2017-08-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Updated at: 2019-02-12 14:38:03" itemprop="dateModified" datetime="2019-02-12T14:38:03+08:00">2019-02-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/CollectionView/" itemprop="url" rel="index"><span itemprop="name">CollectionView</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近因需要实现一个标签类的 demo, 需要支持拖拽重排, 首先想到的便是 collectionView, 并且很快就在 API 文档中找到了类似的接口:</p>
<pre><code>- (BOOL)beginInteractiveMovementForItemAtIndexPath:(NSIndexPath *)indexPath NS_AVAILABLE_IOS(9_0);
- (void)updateInteractiveMovementTargetPosition:(CGPoint)targetPosition NS_AVAILABLE_IOS(9_0);
- (void)endInteractiveMovement NS_AVAILABLE_IOS(9_0);
- (void)cancelInteractiveMovement NS_AVAILABLE_IOS(9_0);
</code></pre><p>用系统提供的这几个接口很快便能实现我们的需求, 代码见 <a href="https://github.com/sevnqiao/CollectionViewDemo" target="_blank" rel="external">gitbub地址</a>.<br>但是你有没有发现上面的方法后面跟着的<em>NS_AVAILABLE_IOS(9_0)</em>, iOS9才开始支持, 这就尴尬了.<br>那iOS9之前怎么手动实现这个需求呢, 于是边分析边开始列出实现步骤:</p>
<blockquote>
<ol>
<li>长按 cell 进入拖拽模式</li>
<li>隐藏当前 cell, 并添加一个当前 cell 的截图到 collectionView 上</li>
<li>随手势移动截图, 当截图的center 进入到另一个 cell2 的范围内的时候, 将隐藏的 cell 移动到cell2的位置, 并移动 cell2及cell2之后的 cell</li>
<li>若继续移动, 则执行(3)</li>
<li>若松开手指结束移动, 则移除掉截图, 并显示之前隐藏的 cell</li>
</ol>
</blockquote>
<p>过程理顺了, 那么接下来便是代码的实现了.</p>
<h5 id="1-长按-cell-进入拖拽模式"><a href="#1-长按-cell-进入拖拽模式" class="headerlink" title="1. 长按 cell 进入拖拽模式"></a><em>1. 长按 cell 进入拖拽模式</em></h5><p>我这里直接给 collectionView添加了一个长按手势</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UILongPressGestureRecognizer</span> *longG = [[<span class="built_in">UILongPressGestureRecognizer</span> alloc]initWithTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(longPress:)];</div><div class="line">longG.minimumPressDuration = <span class="number">0.2</span>f;</div><div class="line">[<span class="keyword">self</span>.collectionView addGestureRecognizer:longG];</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)longPress:(<span class="built_in">UILongPressGestureRecognizer</span> *)lpGesture</div><div class="line">&#123;</div><div class="line">    <span class="keyword">switch</span>(lpGesture.state) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="built_in">UIGestureRecognizerStateBegan</span>:</div><div class="line">        &#123;</div><div class="line">            [<span class="keyword">self</span> collectionViewCellDidBeginChange:lpGesture];</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">case</span> <span class="built_in">UIGestureRecognizerStateChanged</span>:</div><div class="line">        &#123;</div><div class="line">            [<span class="keyword">self</span> collectionViewCellDidChange:lpGesture];</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">case</span> <span class="built_in">UIGestureRecognizerStateEnded</span>:</div><div class="line">        &#123;</div><div class="line">            [<span class="keyword">self</span> collectionViewCellDidEndChange:lpGesture];</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="keyword">if</span> (<span class="built_in">AVAILABLE_IOS_9_0</span>)</div><div class="line">            &#123;</div><div class="line">                [<span class="keyword">self</span>.collectionView cancelInteractiveMovement];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="2-隐藏当前-cell-并添加一个当前-cell-的截图到-collectionView-上"><a href="#2-隐藏当前-cell-并添加一个当前-cell-的截图到-collectionView-上" class="headerlink" title="2. 隐藏当前 cell, 并添加一个当前 cell 的截图到 collectionView 上"></a><em>2. 隐藏当前 cell, 并添加一个当前 cell 的截图到 collectionView 上</em></h5><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)collectionViewCellDidBeginChange:(<span class="built_in">UILongPressGestureRecognizer</span> *)lpGesture</div><div class="line">&#123;</div><div class="line">    <span class="keyword">self</span>.beginIndexPath = [<span class="keyword">self</span>.collectionView indexPathForItemAtPoint:[lpGesture locationInView:<span class="keyword">self</span>.collectionView]];</div><div class="line">    <span class="keyword">self</span>.beginCell = (CollectionViewCell *)[<span class="keyword">self</span>.collectionView cellForItemAtIndexPath:<span class="keyword">self</span>.beginIndexPath];</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> (<span class="built_in">AVAILABLE_IOS_9_0</span>)</div><div class="line">    &#123;</div><div class="line">        [<span class="keyword">self</span>.collectionView beginInteractiveMovementForItemAtIndexPath:<span class="keyword">self</span>.beginIndexPath];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// 截图  并隐藏原 cell</span></div><div class="line">        <span class="keyword">self</span>.tempView = [<span class="keyword">self</span>.beginCell snapshotViewAfterScreenUpdates:<span class="literal">YES</span>];</div><div class="line">        <span class="keyword">self</span>.tempView.frame = <span class="keyword">self</span>.beginCell.frame;</div><div class="line">        [<span class="keyword">self</span>.collectionView addSubview:<span class="keyword">self</span>.tempView];</div><div class="line">        </div><div class="line">        <span class="keyword">self</span>.beginPoint = [lpGesture locationInView:<span class="keyword">self</span>.collectionView];</div><div class="line">        <span class="keyword">self</span>.beginCell.hidden = <span class="literal">YES</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="3-移动截图"><a href="#3-移动截图" class="headerlink" title="3. 移动截图"></a><em>3. 移动截图</em></h5><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)collectionViewCellDidChange:(<span class="built_in">UILongPressGestureRecognizer</span> *)lpGesture</div><div class="line">&#123;</div><div class="line">    <span class="built_in">CGPoint</span> targetPosion = [lpGesture locationInView:lpGesture.view];</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> (<span class="built_in">AVAILABLE_IOS_9_0</span>)</div><div class="line">    &#123;</div><div class="line">        [<span class="keyword">self</span>.collectionView updateInteractiveMovementTargetPosition:targetPosion];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        <span class="built_in">CGFloat</span> tranX = [lpGesture locationOfTouch:<span class="number">0</span> inView:<span class="keyword">self</span>.collectionView].x - <span class="keyword">self</span>.beginPoint.x;</div><div class="line">        <span class="built_in">CGFloat</span> tranY = [lpGesture locationOfTouch:<span class="number">0</span> inView:<span class="keyword">self</span>.collectionView].y - <span class="keyword">self</span>.beginPoint.y;</div><div class="line">        </div><div class="line">        <span class="comment">// 设置截图视图位置</span></div><div class="line">        <span class="keyword">self</span>.tempView.center = <span class="built_in">CGPointApplyAffineTransform</span>(<span class="keyword">self</span>.tempView.center, <span class="built_in">CGAffineTransformMakeTranslation</span>(tranX, tranY));</div><div class="line">        <span class="keyword">self</span>.beginPoint = [lpGesture locationOfTouch:<span class="number">0</span> inView:_collectionView];</div><div class="line">        </div><div class="line">        <span class="comment">// 计算截图视图和哪个cell相交</span></div><div class="line">        <span class="keyword">for</span> (<span class="built_in">UICollectionViewCell</span> *cell <span class="keyword">in</span> [_collectionView visibleCells])</div><div class="line">        &#123;</div><div class="line">            <span class="comment">//跳过隐藏的cell</span></div><div class="line">            <span class="keyword">if</span> ([_collectionView indexPathForCell:cell] == <span class="keyword">self</span>.beginIndexPath)</div><div class="line">            &#123;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//计算中心距</span></div><div class="line">            <span class="built_in">CGFloat</span> space = sqrtf(pow(<span class="keyword">self</span>.tempView.center.x - cell.center.x, <span class="number">2</span>) + powf(<span class="keyword">self</span>.tempView.center.y - cell.center.y, <span class="number">2</span>));</div><div class="line">            </div><div class="line">            <span class="comment">//如果相交一半且两个视图Y的绝对值小于高度的一半就移动</span></div><div class="line">            <span class="keyword">if</span> (space &lt;= <span class="keyword">self</span>.tempView.bounds.size.width * <span class="number">0.5</span> &amp;&amp; (fabs(<span class="keyword">self</span>.tempView.center.y - cell.center.y) &lt;= <span class="keyword">self</span>.tempView.bounds.size.height * <span class="number">0.5</span>))</div><div class="line">            &#123;</div><div class="line">                <span class="built_in">NSIndexPath</span> *nextIndexPath = [_collectionView indexPathForCell:cell];</div><div class="line">                </div><div class="line">                [<span class="keyword">self</span> updateDataWithSourceIndexPath:<span class="keyword">self</span>.beginIndexPath toIndexPath:nextIndexPath];</div><div class="line">                </div><div class="line">                [_collectionView moveItemAtIndexPath:<span class="keyword">self</span>.beginIndexPath toIndexPath:nextIndexPath];</div><div class="line">                </div><div class="line">                <span class="comment">//设置移动后的起始indexPath</span></div><div class="line">                <span class="keyword">self</span>.beginIndexPath = nextIndexPath;</div><div class="line">                </div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>数据源的改动</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)updateDataWithSourceIndexPath:(<span class="built_in">NSIndexPath</span> *)sourceIndexPath toIndexPath:(<span class="built_in">NSIndexPath</span> *)destinationIndexPath</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (sourceIndexPath.section == destinationIndexPath.section) <span class="comment">// 同一个 section 间移动</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (destinationIndexPath.item &gt; sourceIndexPath.item) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="built_in">NSUInteger</span> i = sourceIndexPath.item; i &lt; destinationIndexPath.item ; i ++) &#123;</div><div class="line">                [<span class="keyword">self</span>.dataArray[sourceIndexPath.section] exchangeObjectAtIndex:i withObjectAtIndex:i + <span class="number">1</span>];</div><div class="line">            &#125;</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">for</span> (<span class="built_in">NSUInteger</span> i = sourceIndexPath.item; i &gt; destinationIndexPath.item ; i --) &#123;</div><div class="line">                [<span class="keyword">self</span>.dataArray[sourceIndexPath.section] exchangeObjectAtIndex:i withObjectAtIndex:i - <span class="number">1</span>];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="comment">// 不同 section 之间移动 ,  删除 sourceData, 插入到 destinationData</span></div><div class="line">    &#123;</div><div class="line">        <span class="built_in">NSMutableArray</span> *sourceArr = <span class="keyword">self</span>.dataArray[sourceIndexPath.section];</div><div class="line">        <span class="built_in">NSMutableArray</span> *destinationArr = <span class="keyword">self</span>.dataArray[destinationIndexPath.section];</div><div class="line">        </div><div class="line">        <span class="keyword">id</span> obj = [sourceArr objectAtIndex:sourceIndexPath.row];</div><div class="line">        </div><div class="line">        [sourceArr removeObjectAtIndex:sourceIndexPath.row];</div><div class="line">        </div><div class="line">        [destinationArr insertObject:obj atIndex:destinationIndexPath.row];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="4-若继续移动-则执行-3"><a href="#4-若继续移动-则执行-3" class="headerlink" title="4. 若继续移动, 则执行(3)"></a><em>4. 若继续移动, 则执行(3)</em></h5><h5 id="5-若松开手指结束移动-则移除掉截图-并显示之前隐藏的-cell"><a href="#5-若松开手指结束移动-则移除掉截图-并显示之前隐藏的-cell" class="headerlink" title="5. 若松开手指结束移动, 则移除掉截图, 并显示之前隐藏的 cell"></a><em>5. 若松开手指结束移动, 则移除掉截图, 并显示之前隐藏的 cell</em></h5><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)collectionViewCellDidEndChange:(<span class="built_in">UILongPressGestureRecognizer</span> *)lpGesture</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">AVAILABLE_IOS_9_0</span>)</div><div class="line">    &#123;</div><div class="line">        [<span class="keyword">self</span>.collectionView endInteractiveMovement];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        [<span class="built_in">UIView</span> animateWithDuration:<span class="number">0.25</span> animations:^&#123;</div><div class="line">            </div><div class="line">            <span class="keyword">self</span>.tempView.center = <span class="keyword">self</span>.beginCell.center;</div><div class="line">            </div><div class="line">        &#125;completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">            </div><div class="line">            [<span class="keyword">self</span>.tempView removeFromSuperview];</div><div class="line">            <span class="keyword">self</span>.beginCell.hidden = <span class="literal">NO</span>;</div><div class="line">        &#125;];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>好了, 到此就完成了 iOS9以下的适配, 实现起来也不是很复杂, 主要的是实现之前把思路理顺, 那实现起来就不难了.</p>
<p>详细的代码见<a href="https://github.com/sevnqiao/CollectionViewDemo" target="_blank" rel="external">gitbub地址</a>.如果有收获,欢迎 star!</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sevnqiao.github.io/2017/07/21/立个flag.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiong."/>
      <meta itemprop="description" content="Do it ,if you have some time."/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sevn"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/07/21/立个flag.html" class="post-title-link" itemprop="url">立个flag</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Post created: 2017-07-21 10:09:47" itemprop="dateCreated datePublished" datetime="2017-07-21T10:09:47+08:00">2017-07-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Updated at: 2019-02-12 15:05:12" itemprop="dateModified" datetime="2019-02-12T15:05:12+08:00">2019-02-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/闲谈人生/" itemprop="url" rel="index"><span itemprop="name">闲谈人生</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近一直想多写些blog, 但是项目一忙就耽搁下来了, 不扯这些歪理由了, 说白了就是人<strong>变懒了</strong>, 今天立个flag, 自我监督, 以后每月至少一篇质量的总结.</p>
<blockquote>
<p>「I don’t care if you suck at writing. I don’t care if nobody reads your blog. I don’t care if you have nothing interesting to say.」</p>
</blockquote>
<p>我不关心你是否擅长写作. 我不关心是不是没人读你的 blog. 我也不在乎你有没有什么有趣的事要说.</p>
<blockquote>
<p>「you can’t connect the dots looking forward; you can only connect them looking backwards. So you have to trust that the dots will somehow connect in your future. You have to trust in something — your gut, destiny, life, karma, whatever. Because believing that the dots will connect down the road will give you the confidence to follow your heart. Even when it leads you off the well worn path, and that will make all the difference. (This approach has never let me down, and it has made all the difference in my life.)」</p>
</blockquote>
<p>你不能将这些想法和过去联系起来, 但你可以在未来的某天用到它. 所以你要相信这些意想不到的小想法将在未来的某些时候给你惊喜. 你必须相信某些东西——你的直觉、命运、生活等等. 因为相信点点滴滴会连接在一起，会让你有信心跟随自己的心. 即使它引导你走了一条老路，也会让你与众不同。(这种方法从来没有让我失望，它让我的生活变得不同。)</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sevnqiao.github.io/2016/09/20/如何让Xcode8支持iOS6和iOS7.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiong."/>
      <meta itemprop="description" content="Do it ,if you have some time."/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sevn"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/09/20/如何让Xcode8支持iOS6和iOS7.html" class="post-title-link" itemprop="url">如何让Xcode8支持iOS6和iOS7?</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Post created: 2016-09-20 16:44:25" itemprop="dateCreated datePublished" datetime="2016-09-20T16:44:25+08:00">2016-09-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Updated at: 2019-02-13 11:41:39" itemprop="dateModified" datetime="2019-02-13T11:41:39+08:00">2019-02-13</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/项目实际/" itemprop="url" rel="index"><span itemprop="name">项目实际</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天刚更新了<em>Xcode8</em> , 一看<em>Deployment Target</em> 只能选到8.0,   那如果要适配到 <em>iOS7</em>咋办呢?</p>
<p>经过半天的探索发现了一个解决办法</p>
<p>步骤如下:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span> 首先找一个 Xcode7的电脑,  然后进入下面这个目录</div><div class="line">       */Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport*</div><div class="line"></div><div class="line"><span class="number">2.</span> 把其中的<span class="number">7.0</span> 和<span class="number">7.1</span>这两个文件夹拷贝出来</div><div class="line"></div><div class="line"><span class="number">3.</span> 再进入到 Xcode8的上面那个目录中 , 把刚才拷贝的两个文件夹拖进去即可</div><div class="line"></div><div class="line"><span class="number">4.</span> *Targets--&gt;General--&gt;Deployment Info --&gt;* 但是不能选择   , 手动输入<span class="number">7.0</span>即可</div></pre></td></tr></table></figure></p>
<p>连上 ios7系统的手机, 发现可以调试了. </p>
<p>哈哈 , 搞定~~</p>
<p>补充一点，同样你也可以让Xcode7支持ios10的调试</p>
<p>空间上传了 iOS 10 的各个开发调试包，这样大家就不用频繁的更新 Xcode 了，</p>
<p><a href="/downloads/" target="_blank" rel="nofollow">下载地址：资源下载列表</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sevnqiao.github.io/2016/06/24/文件夹的操作NSFileManager.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiong."/>
      <meta itemprop="description" content="Do it ,if you have some time."/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sevn"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/06/24/文件夹的操作NSFileManager.html" class="post-title-link" itemprop="url">文件夹的操作NSFileManager</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Post created: 2016-06-24 14:23:37" itemprop="dateCreated datePublished" datetime="2016-06-24T14:23:37+08:00">2016-06-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Updated at: 2019-02-12 14:43:17" itemprop="dateModified" datetime="2019-02-12T14:43:17+08:00">2019-02-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/项目实际/" itemprop="url" rel="index"><span itemprop="name">项目实际</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近好多地方用到了关于文件夹及文件路径的操作,特此总结一下.</p>
<h4 id="获取应用目录"><a href="#获取应用目录" class="headerlink" title="获取应用目录"></a>获取应用目录</h4><p>系统给我们提供了下面这个方法,该方法可以快速获取相关目录:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">FOUNDATION_EXPORT <span class="built_in">NSArray</span>&lt;<span class="built_in">NSString</span> *&gt; *<span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSSearchPathDirectory</span> directory, <span class="built_in">NSSearchPathDomainMask</span> domainMask, <span class="built_in">BOOL</span> expandTilde);</div></pre></td></tr></table></figure></p>
<p>其中NSSearchPathDirectory字段就是我们要找的文件目录, 这个枚举中我们平时使用较多的是如下三个:</p>
<blockquote>
<ul>
<li>NSDocumentDirectory </li>
<li>NSCachesDirectory</li>
<li>NSLibraryDirectory</li>
</ul>
</blockquote>
<p>如获取cache文件夹:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSCachesDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>).lastObject;</div></pre></td></tr></table></figure></p>
<h4 id="创建一个文件夹"><a href="#创建一个文件夹" class="headerlink" title="创建一个文件夹"></a>创建一个文件夹</h4><p> 很多时候我们还要在系统文件夹下面再创建一个新的文件夹.<br>方法如下:<br>// 创建一条路径<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">-(<span class="built_in">NSString</span> *)createFolder:(<span class="built_in">NSString</span> *)folder</div><div class="line">&#123;    </div><div class="line">    <span class="built_in">BOOL</span> isDir = <span class="literal">NO</span>;</div><div class="line">    <span class="built_in">NSFileManager</span> *fileManager = [<span class="built_in">NSFileManager</span> defaultManager];</div><div class="line">    <span class="built_in">BOOL</span> existed = [fileManager fileExistsAtPath:folder isDirectory:&amp;isDir];</div><div class="line">    <span class="keyword">if</span> ( !(isDir == <span class="literal">YES</span> &amp;&amp; existed == <span class="literal">YES</span>) )</div><div class="line">    &#123;</div><div class="line">        [fileManager createDirectoryAtPath:folder withIntermediateDirectories:<span class="literal">YES</span> attributes:<span class="literal">nil</span> error:<span class="literal">nil</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> folder;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="获取某文件夹下所有的文件路径"><a href="#获取某文件夹下所有的文件路径" class="headerlink" title="获取某文件夹下所有的文件路径"></a>获取某文件夹下所有的文件路径</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 获取存储目录下的所有音频文件</span></div><div class="line">- (<span class="built_in">NSArray</span> *)getLocalFilePathArray:(<span class="built_in">NSString</span> *)filePath</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSMutableArray</span> *filePathArray = [<span class="built_in">NSMutableArray</span> array];</div><div class="line">    </div><div class="line">    <span class="built_in">NSFileManager</span>* manager = [<span class="built_in">NSFileManager</span> defaultManager];</div><div class="line">    <span class="built_in">NSString</span> *filePath = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@/%@"</span>,<span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSCachesDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>).lastObject, filePath];</div><div class="line">    <span class="built_in">NSEnumerator</span> *childFilesEnumerator = [[manager subpathsAtPath:filePath] objectEnumerator];</div><div class="line">    </div><div class="line">    <span class="built_in">NSString</span>* fileName;</div><div class="line">    <span class="keyword">while</span> ((fileName = [childFilesEnumerator nextObject]) != <span class="literal">nil</span>)&#123;</div><div class="line">        <span class="built_in">NSString</span>* fileAbsolutePath = [filePath stringByAppendingPathComponent:fileName];</div><div class="line">        [filePathArray addObject:fileAbsolutePath];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> filePathArray;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="获取文件夹中单个文件的大小"><a href="#获取文件夹中单个文件的大小" class="headerlink" title="获取文件夹中单个文件的大小"></a>获取文件夹中单个文件的大小</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">long</span> <span class="keyword">long</span>) fileSizeAtPath:(<span class="built_in">NSString</span>*) filePath</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSFileManager</span>* manager = [<span class="built_in">NSFileManager</span> defaultManager];</div><div class="line">    <span class="keyword">if</span> ([manager fileExistsAtPath:filePath])</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> [[manager attributesOfItemAtPath:filePath error:<span class="literal">nil</span>] fileSize];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="获取整个文件夹的大小"><a href="#获取整个文件夹的大小" class="headerlink" title="获取整个文件夹的大小"></a>获取整个文件夹的大小</h4><p>有了上面的获取单个文件大小的方法,我们还可以获取整个文件夹的大小,如下:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">float</span> ) folderSizeAtPath:(<span class="built_in">NSString</span>*) folderPath</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSFileManager</span>* manager = [<span class="built_in">NSFileManager</span> defaultManager];</div><div class="line">    <span class="keyword">if</span> (![manager fileExistsAtPath:folderPath]) </div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="built_in">NSEnumerator</span> *childFilesEnumerator = [[manager subpathsAtPath:folderPath] objectEnumerator];</div><div class="line">    <span class="built_in">NSString</span>* fileName;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> folderSize = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> ((fileName = [childFilesEnumerator nextObject]) != <span class="literal">nil</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">NSString</span>* fileAbsolutePath = [folderPath stringByAppendingPathComponent:fileName];</div><div class="line">        folderSize += [<span class="keyword">self</span> fileSizeAtPath:fileAbsolutePath];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> folderSize/(<span class="number">1024.0</span>*<span class="number">1024.0</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>目前用到的这么多, 当然还有许多方法未列出来, 欢迎各位同学补充.</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sevnqiao.github.io/2016/05/31/简书导航栏头像实现.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiong."/>
      <meta itemprop="description" content="Do it ,if you have some time."/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sevn"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/05/31/简书导航栏头像实现.html" class="post-title-link" itemprop="url">简书导航栏头像实现</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Post created: 2016-05-31 16:43:10" itemprop="dateCreated datePublished" datetime="2016-05-31T16:43:10+08:00">2016-05-31</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Updated at: 2019-02-12 14:41:34" itemprop="dateModified" datetime="2019-02-12T14:41:34+08:00">2019-02-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/tableView/" itemprop="url" rel="index"><span itemprop="name">tableView</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天看了一下简书的用户界面的导航栏上的头像，于是想了一下其实现过程。</p>
<p>大家可以到简书客户端上看一下个人界面，可以看到以下几点：</p>
<blockquote>
<ol>
<li>向上移动头像会缩小，但是有下限</li>
<li>向下移动头像会放大，但是有上限</li>
<li>头像的起点y始终不变</li>
</ol>
</blockquote>
<h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><p>首先，我们给导航条添加一个<em>titleView</em>：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIView</span> *titleView = [[<span class="built_in">UIView</span> alloc] init];</div><div class="line"><span class="keyword">self</span>.navigationItem.titleView = titleView;</div><div class="line"><span class="keyword">self</span>.headerImageView = [[<span class="built_in">UIImageView</span> alloc] init];</div><div class="line"><span class="keyword">self</span>.headerImageView.layer.cornerRadius = <span class="number">30</span>;</div><div class="line"><span class="keyword">self</span>.headerImageView.layer.masksToBounds = <span class="literal">YES</span>;</div><div class="line"><span class="keyword">self</span>.headerImageView.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">60</span>, <span class="number">60</span>);</div><div class="line"><span class="keyword">self</span>.headerImageView.backgroundColor = [<span class="built_in">UIColor</span> redColor];</div><div class="line"><span class="comment">// 保证用户头像水平居中</span></div><div class="line"><span class="keyword">self</span>.headerImageView.center = <span class="built_in">CGPointMake</span>(titleView.center.x, <span class="number">0</span>);</div><div class="line">[titleView addSubview:<span class="keyword">self</span>.headerImageView];</div></pre></td></tr></table></figure></p>
<p>接下来最关键的代码就是在滚动时处理缩放用户头像的了：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)scrollViewDidScroll:(<span class="built_in">UIScrollView</span> *)scrollView </div><div class="line">&#123;</div><div class="line">    <span class="built_in">CGFloat</span> offsetY = scrollView.contentOffset.y + scrollView.contentInset.top;</div><div class="line">    <span class="built_in">CGFloat</span> scale = <span class="number">1.0</span>;</div><div class="line">    <span class="comment">// 放大</span></div><div class="line">    <span class="keyword">if</span> (offsetY &lt; <span class="number">0</span>) &#123;</div><div class="line">        scale = MIN(<span class="number">1.5</span>, <span class="number">1</span> - offsetY / <span class="number">300</span>);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (offsetY &gt; <span class="number">0</span>) &#123; </div><div class="line">    <span class="comment">// 缩小</span></div><div class="line">        scale = MAX(<span class="number">0.45</span>, <span class="number">1</span> - offsetY / <span class="number">300</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//进行缩放</span></div><div class="line">    <span class="keyword">self</span>.headerImageView.transform = <span class="built_in">CGAffineTransformMakeScale</span>(scale, scale);</div><div class="line">    <span class="comment">// 保证缩放后y坐标不变</span></div><div class="line">    <span class="built_in">CGRect</span> frame = <span class="keyword">self</span>.headerImageView.frame;</div><div class="line">    frame.origin.y = -<span class="keyword">self</span>.headerImageView.layer.cornerRadius / <span class="number">2</span>;</div><div class="line">    <span class="keyword">self</span>.headerImageView.frame = frame;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>哈，就是如此简单，大家可以自己动手去试一下</p>
<p><a href="https://github.com/sevnqiao/AVPlayer-" target="_blank" rel="external">gitbub地址</a> 欢迎star</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sevnqiao.github.io/2016/03/27/网络框架.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiong."/>
      <meta itemprop="description" content="Do it ,if you have some time."/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sevn"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/03/27/网络框架.html" class="post-title-link" itemprop="url">网络框架</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Post created: 2016-03-27 10:43:56" itemprop="dateCreated datePublished" datetime="2016-03-27T10:43:56+08:00">2016-03-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Updated at: 2019-02-12 14:38:40" itemprop="dateModified" datetime="2019-02-12T14:38:40+08:00">2019-02-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/网络/" itemprop="url" rel="index"><span itemprop="name">网络</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近项目上准备把引入的<em>Mantle</em>替换为<em>YYModel</em>, 之前也听别人书把<em>model</em>传到网络模块中,这样返回的就是转换好的 <em>entity</em>了, 于是今天做了一下实现.<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">id</span>)POST:(<span class="built_in">NSString</span> *)address params:(<span class="built_in">NSDictionary</span> *)params targetModelClass:(Class)targetModel completionHnadle:(CompletionHandle)handle&#123;</div><div class="line">    </div><div class="line">     <span class="keyword">id</span> requestOperation;</div><div class="line">     requestOperation = [<span class="keyword">self</span> requestWithMethod:<span class="string">@"POST"</span> address:address params:params completionHnadle:^(<span class="keyword">id</span> operation, <span class="keyword">id</span> responseObject, <span class="built_in">NSError</span> *error) &#123;</div><div class="line">        <span class="keyword">if</span> (error)</div><div class="line">        &#123;</div><div class="line">            handle(operation, <span class="literal">nil</span>, error);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span> (targetModel)</div><div class="line">            &#123;</div><div class="line">                <span class="keyword">id</span> model = [targetModel yy_modelWithDictionary:responseObject];</div><div class="line">                </div><div class="line">                handle (operation, model , <span class="literal">nil</span>);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span></div><div class="line">            &#123;</div><div class="line">                handle (operation, responseObject, <span class="literal">nil</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;];</div><div class="line">    <span class="keyword">return</span> requestOperation;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这样拿到了 targetModel就可以直接转换为对应的 entity 了.</p>
<p>顺便还写了一个管理网络请求的队列:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">*  网络请求 operation 管理类</div><div class="line">*</div><div class="line">*  @return 管理者</div><div class="line">*/</div><div class="line">+ (<span class="keyword">instancetype</span>)shareManager;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line">*  添加一个网络请求操作到数组中</div><div class="line">*</div><div class="line">*  @param operation  void</div><div class="line">*/</div><div class="line">- (<span class="keyword">void</span>)addOperation:(<span class="keyword">id</span>)operation;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line">*  移除一个网络请求对象</div><div class="line">*</div><div class="line">*  @param operation  void</div><div class="line">*/</div><div class="line">- (<span class="keyword">void</span>)removeOperation:(<span class="keyword">id</span>)operation;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line">*  移除所有的网络请求</div><div class="line">*/</div><div class="line">- (<span class="keyword">void</span>)removeAllOperation;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line">*  获取所有的网络请求数组</div><div class="line">*</div><div class="line">*  @return 网络请求的数组</div><div class="line">*/</div><div class="line">- (<span class="built_in">NSArray</span> *)allOperation;</div></pre></td></tr></table></figure></p>
<p>还有一个需求 , 就是有的 app 要求退出当前页面的时候,要取消当前页面所有没有完成的网络请求, 于是又写了一个基于 UIViewController 的扩展:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"UIViewController+NetworkOperationManager.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;objc/objc-runtime.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"NetworkRequestManager.h"</span></span></div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="built_in">NSString</span> *kOperationKey = <span class="string">@"kOperationKey"</span>;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">UIViewController</span>     (<span class="title">NetworkOperationManager</span>)</span></div><div class="line"></div><div class="line">-(<span class="built_in">NSMutableArray</span> *)operations</div><div class="line">&#123;</div><div class="line">    <span class="keyword">id</span> obj = objc_getAssociatedObject(<span class="keyword">self</span>, &amp;kOperationKey);</div><div class="line">    <span class="keyword">if</span> (!obj) &#123;</div><div class="line">        obj = [[<span class="built_in">NSMutableArray</span> alloc]init];</div><div class="line">        objc_setAssociatedObject(<span class="keyword">self</span>, &amp;kOperationKey, obj, OBJC_ASSOCIATION_RETAIN_NONATOMIC);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> obj;</div><div class="line">&#125;</div><div class="line"></div><div class="line">-(<span class="keyword">void</span>)addOperation:(<span class="keyword">id</span>)operation</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">self</span>.operations addObject:operation];</div><div class="line">&#125;</div><div class="line"></div><div class="line">-(<span class="keyword">void</span>)cancleOperation:(<span class="keyword">id</span>)operation</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">self</span>.operations removeObject:operation];</div><div class="line">&#125;</div><div class="line"></div><div class="line">-(<span class="keyword">void</span>)cancelAllOperation</div><div class="line">&#123;</div><div class="line">    [[NetworkRequestManager shareManager] removeAllRequestOperations];</div><div class="line">        </div><div class="line">    [<span class="keyword">self</span>.operations removeAllObjects];</div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure></p>
<p>这样我们在 controller 就能很好的管理我们的网络请求了<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></div><div class="line">    </div><div class="line">    <span class="built_in">NSURLSessionDataTask</span> *op = [[NetworkRequestManager shareManager] GET:<span class="string">@"http://114.80.110.197/v3/028/json/reply/GetRegionPostsRequest"</span> params:<span class="literal">nil</span> targetModelClass:[TestModel <span class="keyword">class</span>] completionHnadle:^(<span class="keyword">id</span> operation, <span class="keyword">id</span> targetData, <span class="built_in">NSError</span> *error) &#123;</div><div class="line">        </div><div class="line">    TestModel *model = (TestModel *)targetData;</div><div class="line">        </div><div class="line">    [model.result enumerateObjectsUsingBlock:^(<span class="keyword">id</span>  _Nonnull obj, <span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> * _Nonnull stop) &#123;</div><div class="line">            </div><div class="line">        TestModel2 *model2 = (TestModel2 *)obj;</div><div class="line">            </div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"测试地址 : %@"</span>, model2.address);</div><div class="line">        &#125;];</div><div class="line">    &#125;];</div><div class="line">    [<span class="keyword">self</span> addOperation:op];</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidDisappear:(<span class="built_in">BOOL</span>)animated&#123;</div><div class="line">    [<span class="keyword">super</span> viewDidDisappear:animated];</div><div class="line">    </div><div class="line">    <span class="comment">// 退出界面时  取消所有未完成的网络请求</span></div><div class="line">    [<span class="keyword">self</span> cancelAllOperation];</div><div class="line">&#125;    </div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure></p>
<p>项目已上传至 github <a href="https://github.com/sevnqiao/NetWork.git" target="_blank" rel="external">NetWork简单封装的一套网络请求框架, 支持 NSURLSession / NSURLConnection</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sevnqiao.github.io/2016/01/07/横向tableView.html"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiong."/>
      <meta itemprop="description" content="Do it ,if you have some time."/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sevn"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2016/01/07/横向tableView.html" class="post-title-link" itemprop="url">横向tableView</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Post created: 2016-01-07 16:42:36" itemprop="dateCreated datePublished" datetime="2016-01-07T16:42:36+08:00">2016-01-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Updated at: 2019-02-12 14:42:22" itemprop="dateModified" datetime="2019-02-12T14:42:22+08:00">2019-02-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/" itemprop="url" rel="index"><span itemprop="name">iOS</span></a></span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/iOS/tableView/" itemprop="url" rel="index"><span itemprop="name">tableView</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>前几天在项目中遇到一个需求，实现一个横向的左右滑动翻页进入上一条或下一条详情。<br>刚看到的时候便有了几个想法：</p>
<pre><code>1.pageviewcontroller
2.scoreView像轮播图一样用三个view奶实现
3.横向tableview
</code></pre><p>经过比较之后选择了第三种方式，原因无其他，重用机制，大量数据不会卡顿。</p>
<h2 id="横向tableview"><a href="#横向tableview" class="headerlink" title="横向tableview"></a>横向tableview</h2><p>先将tableview左旋转90度：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">CGFloat</span> f = (kScreen_Height-kNavBar_Height-kScreen_Width)*<span class="number">0.5</span>;</div><div class="line"><span class="keyword">self</span>.myTableView = [[<span class="built_in">UITableView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(-f, f, kScreen_Height-kNavBar_Height, kScreen_Width) style:<span class="built_in">UITableViewStylePlain</span>];</div><div class="line"><span class="keyword">self</span>.myTableView.dataSource = <span class="keyword">self</span>;</div><div class="line"><span class="keyword">self</span>.myTableView.delegate = <span class="keyword">self</span>;</div><div class="line"><span class="keyword">self</span>.myTableView.transform = <span class="built_in">CGAffineTransformMakeRotation</span>(-M_PI/<span class="number">2</span>);</div><div class="line"><span class="keyword">self</span>.myTableView.backgroundColor = kColor_f2f2f2;</div><div class="line"><span class="keyword">self</span>.myTableView.pagingEnabled = <span class="literal">YES</span>;</div><div class="line"><span class="keyword">self</span>.myTableView.showsVerticalScrollIndicator = <span class="literal">NO</span>;</div><div class="line">[<span class="keyword">self</span>.view addSubview:<span class="keyword">self</span>.myTableView];</div></pre></td></tr></table></figure></p>
<p>要使其旋转之后能刚好和屏幕一致，则<em>tableView</em>的<br>横坐标x为： -（屏幕高度-屏幕宽度）*0.5<br>纵坐标y为：（屏幕高度-屏幕宽度）*0.5<br>改变<em>tableview</em>的<em>transform</em><br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">self</span>.myTableView.transform = <span class="built_in">CGAffineTransformMakeRotation</span>(-M_PI/<span class="number">2</span>);</div></pre></td></tr></table></figure></p>
<p>这样旋转之后刚好和<em>controller</em>的<em>view</em>重合。</p>
<h3 id="旋转cell"><a href="#旋转cell" class="headerlink" title="旋转cell"></a>旋转cell</h3><p>旋转tableview之后还需要将cell右向旋转90度：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cell.transform = <span class="built_in">CGAffineTransformMakeRotation</span>(M_PI/<span class="number">2</span>);</div></pre></td></tr></table></figure></p>
<p>这样既可实现一个横向的<em>tableview</em>。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Xiong.</p>
              <p class="site-description motion-element" itemprop="description">Do it ,if you have some time.</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">Artikel</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">10</span>
                    <span class="site-state-item-name">Kategorien</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">10</span>
                    <span class="site-state-item-name">Tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiong.</span>

  

  
</div>


  <div class="powered-by">Erstellt mit  <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.3.7</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.0.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.0"></script>

  <script src="/js/src/motion.js?v=7.0.0"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.0"></script>



  

  


  <script src="/js/src/bootstrap.js?v=7.0.0"></script>



  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
